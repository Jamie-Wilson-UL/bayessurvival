% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nonparametric-impute.R
\name{bayes_np_impute}
\alias{bayes_np_impute}
\title{\subsection{bayes_np_impute}{

Non-parametric Bayesian imputation for right-censored survival data using a
\emph{Linear Dependent Dirichlet-Process} model (originally from \strong{DPpackage}).
}}
\usage{
bayes_np_impute(
  data,
  time_col = NULL,
  status_col = NULL,
  groups = NULL,
  n_imputations = 10,
  prior = NULL,
  mcmc = list(nburn = 1000, nsave = 4000, nskip = 1, ndisplay = 100),
  grid = NULL,
  verbose = TRUE,
  time_unit = NULL
)
}
\arguments{
\item{data}{A \code{data.frame} with survival information.}

\item{time_col}{Name of the survival time column.}

\item{status_col}{Name of the status column (1 = event, 0 = right-censored).}

\item{groups}{Optional grouping variable for stratified analysis}

\item{n_imputations}{Number of imputed complete datasets to generate (default: 10)}

\item{prior}{A named list of prior hyper-parameters (same structure as the
original \code{LDDPsurvival} prior list).  If \code{NULL}, sensible defaults are
constructed automatically. The default alpha prior is Gamma(10, 10), making
the DP concentration parameter learnable.}

\item{mcmc}{A named list with MCMC settings (\code{nburn}, \code{nsave}, \code{nskip},
\code{ndisplay}).  Defaults to \code{nburn = 1000}, \code{nsave = 4000}, \code{nskip = 1},
\code{ndisplay = 100}.}

\item{grid}{Numeric vector of grid points where the posterior survival &
density are evaluated.  Defaults to \code{seq(0.01, max(time)*1.1, length = 100)}.}

\item{verbose}{Logical; print progress?  (Default \code{TRUE}).}

\item{time_unit}{Optional label for the time unit stored in the result (default: "days")}
}
\value{
A \code{bayesian_imputation} object containing:
\describe{
\item{original_data}{The original input data}
\item{imputed_datasets}{List of n_imputations complete datasets}
\item{posterior_imputations}{Matrix of posterior draws for each censored observation}
\item{posterior_samples}{MCMC samples for model parameters}
\item{model_info}{Information about the fitted model}
\item{diagnostics}{MCMC convergence diagnostics}
\item{fit}{The raw \code{LDDPsurvival} object for advanced inspection}
}
}
\description{
This is a convenience wrapper around the internal
\code{\link[=dp_np_LDDPsurvival]{dp_np_LDDPsurvival()}} function (a vendored copy of
\code{DPpackage::LDDPsurvival()}), making it as easy to call as
\code{\link[=bayesian_impute]{bayesian_impute()}}.
}
\examples{
set.seed(1)
n  <- 50
t  <- rexp(n, 0.05)               # true times
c  <- rexp(n, 0.02)               # censor times
time   <- pmin(t, c)
status <- as.integer(t <= c)
df <- data.frame(time, status)

# Default: alpha ~ Gamma(10, 10) (learnable)
res <- bayes_np_impute(df, "time", "status", n_imputations = 10, verbose = FALSE,
                       mcmc = list(nburn = 100, nsave = 200, nskip = 2, ndisplay = 100))

# View results
print(res)
plot(res)

# Access completed datasets
head(res$imputed_datasets[[1]])

# Custom prior with fixed alpha = 1
custom_prior <- list(a0 = -1, b0 = -1, nu = 4, m0 = 0, 
                     S0 = matrix(100, 1, 1), psiinv = matrix(1, 1, 1),
                     tau1 = 6.01, taus1 = 6.01, taus2 = 2.01)
res_fixed <- bayes_np_impute(df, "time", "status", n_imputations = 5, 
                             prior = custom_prior, verbose = FALSE,
                             mcmc = list(nburn = 100, nsave = 200, nskip = 2, ndisplay = 100))

}
\references{
Jara, A., Hanson, T., Quintana, F. A., Müller, P., & Rosner, G. L. (2011). DPpackage: Bayesian Semi- and Nonparametric Modeling in R. Journal of Statistical Software, 40(5), 1–30. https://doi.org/10.18637/jss.v040.i05
}
