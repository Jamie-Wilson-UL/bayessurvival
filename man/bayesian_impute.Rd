% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bayesian-impute.R
\name{bayesian_impute}
\alias{bayesian_impute}
\title{Bayesian Imputation for Censored Survival Data}
\usage{
bayesian_impute(
  data,
  time_col = NULL,
  status_col = NULL,
  groups = NULL,
  n_imputations = 10,
  distribution = "weibull",
  priors = NULL,
  mcmc_options = NULL,
  verbose = TRUE,
  time_unit = NULL
)
}
\arguments{
\item{data}{A data frame containing survival data}

\item{time_col}{Name of the time column}

\item{status_col}{Name of the status column (1 = event, 0 = censored)}

\item{groups}{Name of the group variable for group comparison (optional)}

\item{n_imputations}{Number of imputed complete datasets to generate (default: 10)}

\item{distribution}{Distribution to use ("weibull", "exponential", "lognormal")}

\item{priors}{List of prior parameters for the distribution parameters}

\item{mcmc_options}{List of MCMC sampling options (chains, iterations, etc.)}

\item{verbose}{Print progress messages (default: TRUE)}

\item{time_unit}{Optional label for the time unit used in outputs (default: "days")}
}
\value{
A bayesian_imputation object containing:
\describe{
\item{original_data}{The original input data}
\item{imputed_datasets}{List of n_imputations complete datasets}
\item{posterior_imputations}{Matrix of posterior draws for each censored observation}
\item{posterior_samples}{MCMC samples for distribution parameters}
\item{model_info}{Information about the fitted model}
\item{diagnostics}{MCMC convergence diagnostics}
\item{mcmc_summary}{Summary statistics for all parameters}
}
}
\description{
This function implements the Bayesian imputation methodology from Moghaddam et al. (2022)
for handling right-censored survival data. It treats censored observations as missing
data and uses Bayesian methods to generate posterior distributions for each censored
observation.
}
\details{
Completed datasets preserve the original observations alongside their imputations. Each
completed dataset retains all original covariates and adds transparency columns, allowing
users to distinguish between original and imputed values when analysing results.

The methodology works as follows:
\enumerate{
\item Fit a Bayesian survival model using MCMC
\item Generate one imputation per censored observation per MCMC iteration
\item Store the full posterior distribution for each censored observation
\item Generate complete datasets by independently sampling from each censored observation's posterior
}

When groups is specified, the function splits the data by group and fits separate
models to each group.
}
\examples{
\dontrun{
# Load example data
data(lung, package = "survival")
lung_clean <- na.omit(lung[, c("time", "status")])

# Basic imputation (single group)
result <- bayesian_impute(
  data = lung_clean,
  time_col = "time",  
  status_col = "status",  
  n_imputations = 20
)

# Group comparison
result_groups <- bayesian_impute(
  data = lung_clean,
  time_col = "time",
  status_col = "status",
  groups = "sex",
  n_imputations = 20
)

# View results
print(result)
plot(result, type = "survival")

# Generate additional datasets 
more_datasets <- generate_complete_datasets(
  result$original_data, 
  result$time_col, 
  result$status_col,
  result$posterior_imputations, 
  50  # Generate 50 more datasets
)
}
}
